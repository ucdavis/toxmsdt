"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[431],{1431:(t,e,i)=>{i.r(e),i.d(e,{createUpgradePath:()=>Wp,getConverter:()=>tm,getTransformSteps:()=>Zp,getVersionClaim:()=>em,upgrade:()=>Qp});var n=i(2),a=i(3537),r=i(8683),o=i(1369),l=i(5076);const z=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),d=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),u=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:d.default({value:1,unit:"px"})}),s=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),c=s.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),p=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),m=s.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:p.default({width:1,height:1,left:0,top:0})}),b=s.extend({type:l.z.literal("none")}),g=l.z.discriminatedUnion("type",[c,m,b]),f=l.z.discriminatedUnion("type",[c,b]),y=l.z.object({top:d.default({value:0,unit:"px"}),left:d.default({value:0,unit:"px"}),bottom:d.default({value:0,unit:"px"}),right:d.default({value:0,unit:"px"})}),x=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),h=x.extend({x:d.default({value:0,unit:"px"}),y:d.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:d.default({value:100,unit:"%"}),height:d.default({value:100,unit:"%"}),padding:y,fill:g,overlay:f,aspectRatioLocked:l.z.boolean(),border:u,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:d.default({value:0,unit:"px"}),topRight:d.default({value:0,unit:"px"}),bottomRight:d.default({value:0,unit:"px"}),bottomLeft:d.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),j=t=>l.z.intersection(x,t.partial()),v=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),j(t))),k=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:v(t),assets:l.z.record(l.z.string(),z).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(2)}),I=(j(h),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),w=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),S=w.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),R=w.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),P=w.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),V=l.z.discriminatedUnion("action",[R,P,S]),_=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(I).max(1),triggers:l.z.array(V),_v:l.z.literal(2)}),U=h.extend({children:l.z.array(I)}),L=k(U).extend({type:l.z.literal("group")}),C=(j(U),h.extend({altText:l.z.string().default("")})),O=k(C).extend({type:l.z.literal("image")}),E=(j(C),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>E))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),X=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:E}),F=l.z.enum(["top","middle","bottom"]),A=h.extend({text:X,textVerticalAlign:F.default("top")}),D=k(A).extend({type:l.z.literal("text")}),T=(j(A),A.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),B=k(T).extend({type:l.z.literal("shape")}),N=(j(T),l.z.object({default:l.z.string()})),q=h.extend({videoSources:N}),Y=k(q).extend({type:l.z.literal("video")}),$=(j(q),l.z.discriminatedUnion("type",[L,O,B,D,Y])),M=l.z.object({blockuments:l.z.record(l.z.string(),_).optional(),items:l.z.record(l.z.string(),$).optional()}),G=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),H=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),J=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:H.default({value:1,unit:"px"})}),K=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Q=K.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),W=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Z=K.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:W.default({width:1,height:1,left:0,top:0})}),tt=K.extend({type:l.z.literal("none")}),et=l.z.discriminatedUnion("type",[Q,Z,tt]),it=l.z.discriminatedUnion("type",[Q,tt]),nt=l.z.object({top:H.default({value:0,unit:"px"}),left:H.default({value:0,unit:"px"}),bottom:H.default({value:0,unit:"px"}),right:H.default({value:0,unit:"px"})}),at=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),rt=at.extend({x:H.default({value:0,unit:"px"}),y:H.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:H.default({value:100,unit:"%"}),height:H.default({value:100,unit:"%"}),padding:nt,fill:et,overlay:it,aspectRatioLocked:l.z.boolean(),border:J,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:H.default({value:0,unit:"px"}),topRight:H.default({value:0,unit:"px"}),bottomRight:H.default({value:0,unit:"px"}),bottomLeft:H.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),ot=t=>l.z.intersection(at,t.partial()),lt=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),ot(t))),zt=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:lt(t),assets:l.z.record(l.z.string(),G).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(3)}),dt=(ot(rt),l.z.object({default:l.z.string()})),ut=rt.extend({audioSources:dt}),st=zt(ut).extend({type:l.z.literal("audio")}),ct=(ot(ut),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),pt=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),mt=pt.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),bt=pt.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),gt=pt.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ft=l.z.discriminatedUnion("action",[bt,gt,mt]),yt=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ct).max(1),triggers:l.z.array(ft),_v:l.z.literal(3)}),xt=rt.extend({children:l.z.array(ct)}),ht=zt(xt).extend({type:l.z.literal("group")}),jt=(ot(xt),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>jt))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),vt=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:jt}),kt=l.z.enum(["top","middle","bottom"]),It=rt.extend({text:vt,textVerticalAlign:kt.default("top")}),wt=zt(It).extend({type:l.z.literal("text")}),St=(ot(It),It.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),Rt=zt(St).extend({type:l.z.literal("shape")}),Pt=(ot(St),l.z.object({default:l.z.string()})),Vt=rt.extend({videoSources:Pt}),_t=zt(Vt).extend({type:l.z.literal("video")}),Ut=(ot(Vt),l.z.discriminatedUnion("type",[st,ht,Rt,wt,_t])),Lt=l.z.object({blockuments:l.z.record(l.z.string(),yt).optional(),items:l.z.record(l.z.string(),Ut).optional()});var Ct=i(4816);function Ot(t,e,i){const{default:n,...a}=t;return{default:e(n),...Ct(a,i)}}function Et(t){return{...t,altText:"altText"in t?t.altText??null:void 0}}function Xt(t){return{...t,clipPath:null,altText:t.altText??null,text:{id:crypto.randomUUID(),type:"tiptap",json:{type:"doc",content:[]}},textVerticalAlign:"middle"}}function Ft(t){return"image"===t.type?function(t){return{...t,_v:3,type:"shape",states:Ot(t.states,Xt,Et)}}(t):{...t,_v:3}}const At=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Dt=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Tt=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Dt.default({value:1,unit:"px"})}),Bt=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Nt=Bt.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),qt=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Yt=Bt.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:qt.default({width:1,height:1,left:0,top:0})}),$t=Bt.extend({type:l.z.literal("none")}),Mt=l.z.discriminatedUnion("type",[Nt,Yt,$t]),Gt=l.z.discriminatedUnion("type",[Nt,$t]),Ht=l.z.object({top:Dt.default({value:0,unit:"px"}),left:Dt.default({value:0,unit:"px"}),bottom:Dt.default({value:0,unit:"px"}),right:Dt.default({value:0,unit:"px"})}),Jt=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Kt=l.z.object({type:l.z.literal("ellipse")}),Qt=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Wt=l.z.object({type:l.z.literal("cloud")}),Zt=l.z.discriminatedUnion("type",[Jt,Kt,Qt,Wt]),te=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),ee=te.extend({x:Dt.default({value:0,unit:"px"}),y:Dt.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Dt.default({value:100,unit:"%"}),height:Dt.default({value:100,unit:"%"}),padding:Ht,fill:Mt,overlay:Gt,aspectRatioLocked:l.z.boolean(),border:Tt,clipDef:Zt.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),ie=t=>l.z.intersection(te,t.partial()),ne=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),ie(t))),ae=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ne(t),assets:l.z.record(l.z.string(),At).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(4)}),re=(ie(ee),l.z.object({default:l.z.string()})),oe=ee.extend({audioSources:re}),le=ae(oe).extend({type:l.z.literal("audio")}),ze=(ie(oe),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),de=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ue=de.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),se=de.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),ce=de.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),pe=l.z.discriminatedUnion("action",[se,ce,ue]),me=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ze).max(1),triggers:l.z.array(pe),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(4)}),be=ee.extend({children:l.z.array(ze)}),ge=ae(be).extend({type:l.z.literal("group")}),fe=(ie(be),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>fe))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),ye=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:fe}),xe=l.z.enum(["top","middle","bottom"]),he=ee.extend({text:ye,textVerticalAlign:xe.default("top")}),je=ae(he).extend({type:l.z.literal("text")}),ve=(ie(he),he.extend({altText:l.z.string().nullable().default(null)})),ke=ae(ve).extend({type:l.z.literal("shape")}),Ie=(ie(ve),l.z.object({default:l.z.string()})),we=ee.extend({videoSources:Ie}),Se=ae(we).extend({type:l.z.literal("video")}),Re=(ie(we),l.z.discriminatedUnion("type",[le,ge,ke,je,Se])),Pe=l.z.object({blockuments:l.z.record(l.z.string(),me).optional(),items:l.z.record(l.z.string(),Re).optional()});function Ve(t){return t.applied?{type:"rectangle",borderRadius:{topLeft:t.topLeft.value,topRight:t.topRight.value,bottomRight:t.bottomRight.value,bottomLeft:t.bottomLeft.value}}:{type:"rectangle"}}function _e(t){const{clipPath:e,borderRadius:i,...n}=t;return"ellipse"===e?{...n,clipDef:{type:"ellipse"}}:{...n,clipDef:Ve(i)}}function Ue(t){const{borderRadius:e,...i}=t;return{...i,clipDef:Ve(e)}}function Le(t){const{borderRadius:e,...i}=t;return e?{...i,clipDef:Ve(e)}:{...i}}function Ce(t){if("shape"===t.type)return{...t,_v:4,states:Ot(t.states,_e,(e=>function(t,e){const{clipPath:i,borderRadius:n,...a}=t;return"ellipse"===i?{...a,clipDef:{type:"ellipse"}}:"ellipse"===e.clipPath?{...a}:n?{...a,clipDef:Ve(n)}:{...a}}(e,t.states.default)))};if("text"===t.type)return{...t,_v:4,states:Ot(t.states,Ue,Le)};if("video"===t.type)return{...t,_v:4,states:Ot(t.states,Ue,Le)};if("group"===t.type)return{...t,_v:4,states:Ot(t.states,Ue,Le)};if("audio"===t.type)return{...t,_v:4,states:Ot(t.states,Ue,Le)};throw new Error("Internal error: should be unreachable")}const Oe=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Ee=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Xe=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ee.default({value:1,unit:"px"})}),Fe=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ae=Fe.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),De=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Te=Fe.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:De.default({width:1,height:1,left:0,top:0})}),Be=Fe.extend({type:l.z.literal("none")}),Ne=l.z.discriminatedUnion("type",[Ae,Te,Be]),qe=l.z.discriminatedUnion("type",[Ae,Be]),Ye=l.z.object({top:Ee.default({value:0,unit:"px"}),left:Ee.default({value:0,unit:"px"}),bottom:Ee.default({value:0,unit:"px"}),right:Ee.default({value:0,unit:"px"})}),$e=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Me=l.z.object({type:l.z.literal("ellipse")}),Ge=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),He=l.z.object({type:l.z.literal("cloud")}),Je=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Ke=l.z.object({type:l.z.literal("triangle")}),Qe=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),We=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Ze=l.z.object({type:l.z.literal("octagon")}),ti=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ei=l.z.discriminatedUnion("type",[Qe,We,He,Me,Ze,Je,$e,Ge,Ke,ti]),ii=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),ni=ii.extend({x:Ee.default({value:0,unit:"px"}),y:Ee.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Ee.default({value:100,unit:"%"}),height:Ee.default({value:100,unit:"%"}),padding:Ye,fill:Ne,overlay:qe,aspectRatioLocked:l.z.boolean(),border:Xe,clipDef:ei.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),ai=t=>l.z.intersection(ii,t.partial()),ri=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),ai(t))),oi=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ri(t),assets:l.z.record(l.z.string(),Oe).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(5)}),li=(ai(ni),l.z.object({default:l.z.string()})),zi=ni.extend({audioSources:li}),di=oi(zi).extend({type:l.z.literal("audio")}),ui=(ai(zi),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),si=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ci=si.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),pi=si.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),mi=si.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),bi=l.z.discriminatedUnion("action",[pi,mi,ci]),gi=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ui).max(1),triggers:l.z.array(bi),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(5)}),fi=ni.extend({children:l.z.array(ui)}),yi=oi(fi).extend({type:l.z.literal("group")}),xi=(ai(fi),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>xi))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),hi=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:xi}),ji=l.z.enum(["top","middle","bottom"]),vi=ni.extend({text:hi,textVerticalAlign:ji.default("top")}),ki=oi(vi).extend({type:l.z.literal("text")}),Ii=(ai(vi),vi.extend({altText:l.z.string().nullable().default(null)})),wi=oi(Ii).extend({type:l.z.literal("shape")}),Si=(ai(Ii),l.z.object({default:l.z.string()})),Ri=ni.extend({videoSources:Si}),Pi=oi(Ri).extend({type:l.z.literal("video")}),Vi=(ai(Ri),l.z.discriminatedUnion("type",[di,yi,wi,ki,Pi])),_i=l.z.object({blockuments:l.z.record(l.z.string(),gi).optional(),items:l.z.record(l.z.string(),Vi).optional()}),Ui={authoringAspectRatioCropLock:"none"};function Li(t){return{...t,...Ui}}function Ci(t){const e=null!=t.width||null!=t.height?Ui:null;return{...t,...e}}function Oi(t){if("shape"===t.type)return{...t,_v:5,states:Ot(t.states,Li,Ci)};if("text"===t.type)return{...t,_v:5,states:Ot(t.states,Li,Ci)};if("video"===t.type)return{...t,_v:5,states:Ot(t.states,Li,Ci)};if("audio"===t.type)return{...t,_v:5,states:Ot(t.states,Li,Ci)};if("group"===t.type)return{...t,_v:5,states:Ot(t.states,Li,Ci)};throw new Error("Unexpected item type!")}const Ei=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Xi=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Fi=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Xi.default({value:1,unit:"px"})}),Ai=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Di=Ai.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ti=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Bi=Ai.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ti.default({width:1,height:1,left:0,top:0})}),Ni=Ai.extend({type:l.z.literal("none")}),qi=l.z.discriminatedUnion("type",[Di,Bi,Ni]),Yi=l.z.discriminatedUnion("type",[Di,Ni]),$i=l.z.object({top:Xi.default({value:0,unit:"px"}),left:Xi.default({value:0,unit:"px"}),bottom:Xi.default({value:0,unit:"px"}),right:Xi.default({value:0,unit:"px"})}),Mi=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Gi=l.z.object({type:l.z.literal("ellipse")}),Hi=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Ji=l.z.object({type:l.z.literal("cloud")}),Ki=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Qi=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Wi=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Zi=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),tn=l.z.object({type:l.z.literal("octagon")}),en=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),nn=l.z.object({type:l.z.literal("shield")}),an=l.z.object({type:l.z.literal("speechBubble")}),rn=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),on=l.z.discriminatedUnion("type",[Wi,Zi,Ji,Gi,tn,Ki,Mi,Hi,Qi,en,nn,an,rn]),ln=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),zn=ln.extend({x:Xi.default({value:0,unit:"px"}),y:Xi.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Xi.default({value:100,unit:"%"}),height:Xi.default({value:100,unit:"%"}),padding:$i,fill:qi,overlay:Yi,aspectRatioLocked:l.z.boolean(),border:Fi,clipDef:on.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),dn=t=>l.z.intersection(ln,t.partial()),un=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),dn(t))),sn=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:un(t),assets:l.z.record(l.z.string(),Ei).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(6)}),cn=(dn(zn),l.z.object({default:l.z.string()})),pn=zn.extend({audioSources:cn}),mn=sn(pn).extend({type:l.z.literal("audio")}),bn=(dn(pn),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),gn=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),fn=gn.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),yn=gn.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),xn=gn.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),hn=l.z.discriminatedUnion("action",[yn,xn,fn]),jn=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(bn).max(1),triggers:l.z.array(hn),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(6)}),vn=zn.extend({children:l.z.array(bn)}),kn=sn(vn).extend({type:l.z.literal("group")}),In=(dn(vn),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>In))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),wn=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:In}),Sn=l.z.enum(["top","middle","bottom"]),Rn=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Pn=zn.extend({text:wn,textVerticalAlign:Sn.default("top"),textPadding:Rn}),Vn=sn(Pn).extend({type:l.z.literal("text")}),_n=(dn(Pn),Pn.extend({altText:l.z.string().nullable().default(null)})),Un=sn(_n).extend({type:l.z.literal("shape")}),Ln=(dn(_n),l.z.object({default:l.z.string()})),Cn=zn.extend({videoSources:Ln}),On=sn(Cn).extend({type:l.z.literal("video")}),En=(dn(Cn),l.z.discriminatedUnion("type",[mn,kn,Un,Vn,On])),Xn=l.z.object({blockuments:l.z.record(l.z.string(),jn).optional(),items:l.z.record(l.z.string(),En).optional()});var Fn=i(5486);function An(t){return"text"===t.type?{...t,_v:6,states:Ot(t.states,(t=>({...t,textPadding:Fn.un})),(t=>t))}:"shape"===t.type?{...t,_v:6,states:Ot(t.states,(t=>({...t,textPadding:Fn.Mw})),(t=>t))}:{...t,_v:6}}const Dn=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Tn=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Bn=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Tn.default({value:1,unit:"px"})}),Nn=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),qn=Nn.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Yn=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),$n=Nn.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Yn.default({width:1,height:1,left:0,top:0})}),Mn=Nn.extend({type:l.z.literal("none")}),Gn=l.z.discriminatedUnion("type",[qn,$n,Mn]),Hn=l.z.discriminatedUnion("type",[qn,Mn]),Jn=l.z.object({top:Tn.default({value:0,unit:"px"}),left:Tn.default({value:0,unit:"px"}),bottom:Tn.default({value:0,unit:"px"}),right:Tn.default({value:0,unit:"px"})}),Kn=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Qn=l.z.object({type:l.z.literal("ellipse")}),Wn=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Zn=l.z.object({type:l.z.literal("cloud")}),ta=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ea=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),ia=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),na=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),aa=l.z.object({type:l.z.literal("octagon")}),ra=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),oa=l.z.object({type:l.z.literal("shield")}),la=l.z.object({type:l.z.literal("speechBubble")}),za=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),da=l.z.discriminatedUnion("type",[ia,na,Zn,Qn,aa,ta,Kn,Wn,ea,ra,oa,la,za]),ua=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),sa=ua.extend({x:Tn.default({value:0,unit:"px"}),y:Tn.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Tn.default({value:100,unit:"%"}),height:Tn.default({value:100,unit:"%"}),padding:Jn,fill:Gn,overlay:Hn,aspectRatioLocked:l.z.boolean(),border:Bn,clipDef:da.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),ca=t=>l.z.intersection(ua,t.partial()),pa=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),ca(t))),ma=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:pa(t),assets:l.z.record(l.z.string(),Dn).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(7)}),ba=(ca(sa),l.z.object({default:l.z.string()})),ga=sa.extend({audioSources:ba}),fa=ma(ga).extend({type:l.z.literal("audio")}),ya=(ca(ga),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),xa=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ha=xa.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),ja=xa.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),va=xa.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ka=l.z.discriminatedUnion("action",[ja,va,ha]),Ia=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ya).max(1),triggers:l.z.array(ka),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(7)}),wa=sa.extend({children:l.z.array(ya)}),Sa=ma(wa).extend({type:l.z.literal("group")}),Ra=(ca(wa),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Ra))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Pa=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Ra}),Va=l.z.enum(["top","middle","bottom"]),_a=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Ua=sa.extend({text:Pa,textVerticalAlign:Va.default("top"),textPadding:_a}),La=ma(Ua).extend({type:l.z.literal("text")}),Ca=(ca(Ua),Ua.extend({altText:l.z.string().nullable().default(null)})),Oa=ma(Ca).extend({type:l.z.literal("shape")}),Ea=(ca(Ca),l.z.object({default:l.z.string()})),Xa=sa.extend({videoSources:Ea}),Fa=ma(Xa).extend({type:l.z.literal("video")}),Aa=(ca(Xa),l.z.discriminatedUnion("type",[fa,Sa,Oa,La,Fa])),Da=l.z.object({blockuments:l.z.record(l.z.string(),Ia).optional(),items:l.z.record(l.z.string(),Aa).optional()});function Ta(t,e){const i=e.width?.value??t.width.value,n=i<=100?8:i>300?32:16;return{top:16,left:n,bottom:16,right:n}}function Ba(t){return"shape"===t.type?{...t,states:(e=t.states,Ot(e,(t=>({...t,textPadding:Ta(t,t)})),(t=>t.textPadding||t.width?{...t,textPadding:Ta(e.default,t)}:t))),_v:7}:{...t,_v:7};var e}const Na=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),qa=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ya=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:qa.default({value:1,unit:"px"})}),$a=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ma=$a.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ga=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Ha=$a.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ga.default({width:1,height:1,left:0,top:0})}),Ja=$a.extend({type:l.z.literal("none")}),Ka=l.z.discriminatedUnion("type",[Ma,Ha,Ja]),Qa=l.z.discriminatedUnion("type",[Ma,Ja]),Wa=l.z.object({top:qa.default({value:0,unit:"px"}),left:qa.default({value:0,unit:"px"}),bottom:qa.default({value:0,unit:"px"}),right:qa.default({value:0,unit:"px"})}),Za=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),tr=l.z.object({type:l.z.literal("ellipse")}),er=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),ir=l.z.object({type:l.z.literal("cloud")}),nr=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ar=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),rr=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),or=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),lr=l.z.object({type:l.z.literal("octagon")}),zr=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),dr=l.z.object({type:l.z.literal("shield")}),ur=l.z.object({type:l.z.literal("speechBubble")}),sr=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),cr=l.z.discriminatedUnion("type",[rr,or,ir,tr,lr,nr,Za,er,ar,zr,dr,ur,sr]),pr=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),mr=pr.extend({x:qa.default({value:0,unit:"px"}),y:qa.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:qa.default({value:100,unit:"%"}),height:qa.default({value:100,unit:"%"}),padding:Wa,fill:Ka,overlay:Qa,aspectRatioLocked:l.z.boolean(),border:Ya,clipDef:cr.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),br=t=>l.z.intersection(pr,t.partial()),gr=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),br(t))),fr=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:gr(t),assets:l.z.record(l.z.string(),Na).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(8)}),yr=(br(mr),l.z.object({default:l.z.string()})),xr=mr.extend({audioSources:yr}),hr=fr(xr).extend({type:l.z.literal("audio")}),jr=(br(xr),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),vr=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),kr=vr.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Ir=vr.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),wr=vr.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Sr=l.z.discriminatedUnion("action",[Ir,wr,kr]),Rr=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(jr).max(1),triggers:l.z.array(Sr),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(8)}),Pr=mr.extend({children:l.z.array(jr)}),Vr=fr(Pr).extend({type:l.z.literal("group")}),_r=(br(Pr),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>_r))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Ur=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:_r}),Lr=l.z.enum(["top","middle","bottom"]),Cr=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Or=mr.extend({text:Ur,textVerticalAlign:Lr.default("top"),textPadding:Cr}),Er=fr(Or).extend({type:l.z.literal("text")}),Xr=(br(Or),Or.extend({altText:l.z.string().nullable().default(null)})),Fr=fr(Xr).extend({type:l.z.literal("shape")}),Ar=(br(Xr),l.z.object({default:l.z.string()})),Dr=mr.extend({videoSources:Ar}),Tr=fr(Dr).extend({type:l.z.literal("video")}),Br=(br(Dr),l.z.discriminatedUnion("type",[hr,Vr,Fr,Er,Tr])),Nr=l.z.object({blockuments:l.z.record(l.z.string(),Rr).optional(),items:l.z.record(l.z.string(),Br).optional()});function qr(t){return{...t,_v:8,assets:Ct(t.assets??{},(t=>({...t,path:`mondrian/assets/${t.path}`})))}}const Yr=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),$r=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Mr=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:$r.default({value:1,unit:"px"})}),Gr=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Hr=Gr.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Jr=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Kr=Gr.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Jr.default({width:1,height:1,left:0,top:0})}),Qr=Gr.extend({type:l.z.literal("none")}),Wr=l.z.discriminatedUnion("type",[Hr,Kr,Qr]),Zr=l.z.discriminatedUnion("type",[Hr,Qr]),to=l.z.object({top:$r.default({value:0,unit:"px"}),left:$r.default({value:0,unit:"px"}),bottom:$r.default({value:0,unit:"px"}),right:$r.default({value:0,unit:"px"})}),eo=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),io=l.z.object({type:l.z.literal("ellipse")}),no=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),ao=l.z.object({type:l.z.literal("cloud")}),ro=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),oo=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),lo=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),zo=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),uo=l.z.object({type:l.z.literal("octagon")}),so=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),co=l.z.object({type:l.z.literal("shield")}),po=l.z.object({type:l.z.literal("speechBubble")}),mo=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),bo=l.z.discriminatedUnion("type",[lo,zo,ao,io,uo,ro,eo,no,oo,so,co,po,mo]),go=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),fo=go.extend({x:$r.default({value:0,unit:"px"}),y:$r.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:$r.default({value:100,unit:"%"}),height:$r.default({value:100,unit:"%"}),padding:to,fill:Wr,overlay:Zr,aspectRatioLocked:l.z.boolean(),border:Mr,clipDef:bo.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),yo=t=>l.z.intersection(go,t.partial()),xo=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),yo(t))),ho=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:xo(t),assets:l.z.record(l.z.string(),Yr).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(9)}),jo=(yo(fo),l.z.object({default:l.z.string()})),vo=fo.extend({audioSources:jo}),ko=ho(vo).extend({type:l.z.literal("audio")}),Io=(yo(vo),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),wo=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),So=wo.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Ro=wo.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Po=wo.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Vo=l.z.discriminatedUnion("action",[Ro,Po,So]),_o=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Io).min(0).max(1),triggers:l.z.array(Vo),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(9)}),Uo=fo.extend({_groupBrand:l.z.never().optional()}),Lo=ho(Uo).extend({type:l.z.literal("group"),children:l.z.array(Io)}),Co=(yo(Uo),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Co))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Oo=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Co}),Eo=l.z.enum(["top","middle","bottom"]),Xo=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Fo=fo.extend({text:Oo,textVerticalAlign:Eo.default("top"),textPadding:Xo}),Ao=ho(Fo).extend({type:l.z.literal("text")}),Do=(yo(Fo),Fo.extend({altText:l.z.string().nullable().default(null)})),To=ho(Do).extend({type:l.z.literal("shape")}),Bo=(yo(Do),l.z.object({default:l.z.string()})),No=fo.extend({videoSources:Bo}),qo=ho(No).extend({type:l.z.literal("video")}),Yo=(yo(No),l.z.discriminatedUnion("type",[ko,Lo,To,Ao,qo])),$o=l.z.object({blockuments:l.z.record(l.z.string(),_o).optional(),items:l.z.record(l.z.string(),Yo).optional()});function Mo(t){return{...t,_v:9,children:t.children.map((({id:t,clonedFromId:e})=>({id:t,clonedFromId:e})))}}function Go(t){return"group"===t.type?function(t){const e=new Map,{default:i,...n}=t.states,a=[i,...Object.values(n)];for(const t of a)if(t.children)for(const{id:i,clonedFromId:n}of t.children)e.has(i)||e.set(i,{id:i,clonedFromId:n});return{...t,_v:9,children:[...e.values()],states:Ot(t.states,(({children:t,...e})=>e),(({children:t,...e})=>e))}}(t):{...t,_v:9}}const Ho=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Jo=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ko=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Jo.default({value:1,unit:"px"})}),Qo=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Wo=Qo.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Zo=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),tl=Qo.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Zo.default({width:1,height:1,left:0,top:0})}),el=Qo.extend({type:l.z.literal("none")}),il=l.z.discriminatedUnion("type",[Wo,tl,el]),nl=l.z.discriminatedUnion("type",[Wo,el]),al=l.z.object({top:Jo.default({value:0,unit:"px"}),left:Jo.default({value:0,unit:"px"}),bottom:Jo.default({value:0,unit:"px"}),right:Jo.default({value:0,unit:"px"})}),rl=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),ol=l.z.object({type:l.z.literal("ellipse")}),ll=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),zl=l.z.object({type:l.z.literal("cloud")}),dl=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ul=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),sl=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),cl=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),pl=l.z.object({type:l.z.literal("octagon")}),ml=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),bl=l.z.object({type:l.z.literal("shield")}),gl=l.z.object({type:l.z.literal("speechBubble")}),fl=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),yl=l.z.discriminatedUnion("type",[sl,cl,zl,ol,pl,dl,rl,ll,ul,ml,bl,gl,fl]),xl=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),hl=xl.extend({x:Jo.default({value:0,unit:"px"}),y:Jo.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Jo.default({value:100,unit:"%"}),height:Jo.default({value:100,unit:"%"}),padding:al,fill:il,overlay:nl,aspectRatioLocked:l.z.boolean(),border:Ko,clipDef:yl.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),jl=t=>l.z.intersection(xl,t.partial()),vl=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),jl(t))),kl=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:vl(t),assets:l.z.record(l.z.string(),Ho).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(10)}),Il=(jl(hl),l.z.object({default:l.z.string()})),wl=hl.extend({audioSources:Il}),Sl=kl(wl).extend({type:l.z.literal("audio")}),Rl=(jl(wl),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Pl=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),Vl=Pl.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),_l=Pl.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Ul=Pl.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Ll=l.z.discriminatedUnion("action",[_l,Ul,Vl]),Cl=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Rl).min(0).max(1),triggers:l.z.array(Ll),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(10)}),Ol=l.z.object({x:l.z.number(),y:l.z.number()}),El=l.z.object({applied:l.z.literal(!1)}),Xl=l.z.object({applied:l.z.literal(!0),offset:Ol,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Fl=l.z.discriminatedUnion("applied",[El,Xl]),Al=hl.extend({_groupBrand:l.z.never().optional()}),Dl=kl(Al).extend({type:l.z.literal("group"),children:l.z.array(Rl)}),Tl=(jl(Al),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Tl))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Bl=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Tl}),Nl=l.z.enum(["top","middle","bottom"]),ql=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Yl=hl.extend({text:Bl,textVerticalAlign:Nl.default("top"),textPadding:ql}),$l=kl(Yl).extend({type:l.z.literal("text")}),Ml=(jl(Yl),Yl.extend({altText:l.z.string().nullable().default(null),dropShadow:Fl})),Gl=kl(Ml).extend({type:l.z.literal("shape")}),Hl=(jl(Ml),l.z.object({default:l.z.string()})),Jl=hl.extend({videoSources:Hl}),Kl=kl(Jl).extend({type:l.z.literal("video")}),Ql=(jl(Jl),l.z.discriminatedUnion("type",[Sl,Dl,Gl,$l,Kl])),Wl=l.z.object({blockuments:l.z.record(l.z.string(),Cl).optional(),items:l.z.record(l.z.string(),Ql).optional()});function Zl(t){return"shape"===t.type?{...t,_v:10,states:Ot(t.states,(t=>({...t,dropShadow:{applied:!1}})),(t=>t))}:{...t,_v:10}}const tz=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),ez=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),iz=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:ez.default({value:1,unit:"px"})}),nz=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),az=nz.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),rz=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),oz=nz.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:rz.default({width:1,height:1,left:0,top:0})}),lz=nz.extend({type:l.z.literal("none")}),zz=l.z.discriminatedUnion("type",[az,oz,lz]),dz=l.z.discriminatedUnion("type",[az,lz]),uz=l.z.object({top:ez.default({value:0,unit:"px"}),left:ez.default({value:0,unit:"px"}),bottom:ez.default({value:0,unit:"px"}),right:ez.default({value:0,unit:"px"})}),sz=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),cz=l.z.object({type:l.z.literal("ellipse")}),pz=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),mz=l.z.object({type:l.z.literal("cloud")}),bz=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),gz=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),fz=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),yz=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),xz=l.z.object({type:l.z.literal("octagon")}),hz=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),jz=l.z.object({type:l.z.literal("shield")}),vz=l.z.object({type:l.z.literal("speechBubble")}),kz=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Iz=l.z.discriminatedUnion("type",[fz,yz,mz,cz,xz,bz,sz,pz,gz,hz,jz,vz,kz]),wz=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Sz=wz.extend({x:ez.default({value:0,unit:"px"}),y:ez.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:ez.default({value:100,unit:"%"}),height:ez.default({value:100,unit:"%"}),padding:uz,fill:zz,overlay:dz,aspectRatioLocked:l.z.boolean(),border:iz,clipDef:Iz.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Rz=t=>l.z.intersection(wz,t.partial()),Pz=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),Rz(t))),Vz=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Pz(t),assets:l.z.record(l.z.string(),tz).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(11)}),_z=(Rz(Sz),l.z.object({default:l.z.string()})),Uz=Sz.extend({audioSources:_z}),Lz=Vz(Uz).extend({type:l.z.literal("audio")}),Cz=(Rz(Uz),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Oz=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Ez=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Xz=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Fz=l.z.discriminatedUnion("type",[Oz,Ez,Xz]),Az=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Fz)}),Dz=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Cz).min(0).max(1),triggers:l.z.array(Az),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(11)}),Tz=l.z.object({x:l.z.number(),y:l.z.number()}),Bz=l.z.object({applied:l.z.literal(!1)}),Nz=l.z.object({applied:l.z.literal(!0),offset:Tz,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),qz=l.z.discriminatedUnion("applied",[Bz,Nz]),Yz=Sz.extend({_groupBrand:l.z.never().optional()}),$z=Vz(Yz).extend({type:l.z.literal("group"),children:l.z.array(Cz)}),Mz=(Rz(Yz),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Mz))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Gz=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Mz}),Hz=l.z.enum(["top","middle","bottom"]),Jz=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Kz=Sz.extend({text:Gz,textVerticalAlign:Hz.default("top"),textPadding:Jz}),Qz=Vz(Kz).extend({type:l.z.literal("text")}),Wz=(Rz(Kz),Kz.extend({altText:l.z.string().nullable().default(null),dropShadow:qz})),Zz=Vz(Wz).extend({type:l.z.literal("shape")}),td=(Rz(Wz),l.z.object({default:l.z.string()})),ed=Sz.extend({videoSources:td}),id=Vz(ed).extend({type:l.z.literal("video")}),nd=(Rz(ed),l.z.discriminatedUnion("type",[Lz,$z,Zz,Qz,id])),ad=l.z.object({blockuments:l.z.record(l.z.string(),Dz).optional(),items:l.z.record(l.z.string(),nd).optional()});function rd(t){switch(t.action){case"changeState":return{type:t.action,targetId:[t.targetId],targetState:t.targetState};case"changeVisibility":return{type:t.action,targetId:[t.targetId],targetVisibility:t.targetVisibility};default:return{type:t.action,targetId:[t.targetId]}}}function od(t){return{...t,triggers:t.triggers.map((t=>({id:t.id,event:t.event,sourceId:t.sourceId,actions:[rd(t)]}))),_v:11}}function ld(t){return{...t,_v:11}}const zd=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),dd=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ud=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:dd.default({value:1,unit:"px"})}),sd=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),cd=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),pd=cd.extend({color:l.z.string().optional()}),md=cd.extend({assetId:l.z.string().optional(),crop:sd.default({width:1,height:1,left:0,top:0})}),bd=l.z.enum(["color","image"]),gd=l.z.intersection(l.z.intersection(pd,md),l.z.object({type:bd})),fd=pd.extend({type:l.z.literal("color")}),yd=l.z.object({top:dd.default({value:0,unit:"px"}),left:dd.default({value:0,unit:"px"}),bottom:dd.default({value:0,unit:"px"}),right:dd.default({value:0,unit:"px"})}),xd=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),hd=l.z.object({type:l.z.literal("ellipse")}),jd=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),vd=l.z.object({type:l.z.literal("cloud")}),kd=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Id=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),wd=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Sd=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Rd=l.z.object({type:l.z.literal("octagon")}),Pd=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Vd=l.z.object({type:l.z.literal("shield")}),_d=l.z.object({type:l.z.literal("speechBubble")}),Ud=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Ld=l.z.discriminatedUnion("type",[wd,Sd,vd,hd,Rd,kd,xd,jd,Id,Pd,Vd,_d,Ud]),Cd=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Od=Cd.extend({x:dd.default({value:0,unit:"px"}),y:dd.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:dd.default({value:100,unit:"%"}),height:dd.default({value:100,unit:"%"}),padding:yd,fill:gd,overlay:fd,aspectRatioLocked:l.z.boolean(),border:ud,clipDef:Ld.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Ed=t=>l.z.intersection(Cd,t.partial()),Xd=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),Ed(t))),Fd=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Xd(t),assets:l.z.record(l.z.string(),zd).default({}),removed:l.z.boolean().default(!1),_v:l.z.literal(12)}),Ad=(Ed(Od),l.z.object({default:l.z.string()})),Dd=Od.extend({audioSources:Ad}),Td=Fd(Dd).extend({type:l.z.literal("audio")}),Bd=(Ed(Dd),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Nd=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),qd=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Yd=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),$d=l.z.discriminatedUnion("type",[Nd,qd,Yd]),Md=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array($d)}),Gd=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Bd).min(0).max(1),triggers:l.z.array(Md),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(12)}),Hd=l.z.object({x:l.z.number(),y:l.z.number()}),Jd=l.z.object({applied:l.z.literal(!1)}),Kd=l.z.object({applied:l.z.literal(!0),offset:Hd,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Qd=l.z.discriminatedUnion("applied",[Jd,Kd]),Wd=Od.extend({_groupBrand:l.z.never().optional()}),Zd=Fd(Wd).extend({type:l.z.literal("group"),children:l.z.array(Bd)}),tu=(Ed(Wd),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>tu))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),eu=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:tu}),iu=l.z.enum(["top","middle","bottom"]),nu=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),au=Od.extend({text:eu,textVerticalAlign:iu.default("top"),textPadding:nu}),ru=Fd(au).extend({type:l.z.literal("text")}),ou=(Ed(au),au.extend({altText:l.z.string().nullable().default(null),dropShadow:Qd})),lu=Fd(ou).extend({type:l.z.literal("shape")}),zu=(Ed(ou),l.z.object({default:l.z.string()})),du=Od.extend({videoSources:zu}),uu=Fd(du).extend({type:l.z.literal("video")}),su=(Ed(du),l.z.discriminatedUnion("type",[Td,Zd,lu,ru,uu])),cu=l.z.object({blockuments:l.z.record(l.z.string(),Gd).optional(),items:l.z.record(l.z.string(),su).optional()});var pu=i(8562);const mu={type:"color",opacity:1},bu={...mu,crop:{height:1,width:1,top:0,left:0}};function gu(t){return t&&"none"!==t.type?"color"===t.type?{...t,crop:bu.crop}:t:bu}function fu(t){return{...t,_v:12}}function yu(t){return{...t,fill:gu(t.fill),overlay:gu(t.overlay)}}function xu(t){return{...t,fill:gu(t.fill),overlay:(e=t.overlay,e&&"none"!==e.type?e:mu)};var e}function hu(t){switch(t.type){case"audio":case"group":case"shape":case"text":case"video":return function(t){return t.assets[pu.up.id]=pu.up,t.states.default.fill.assetId||(t.states.default.fill.assetId=pu.up.id),t}({...t,states:Ot(t.states,yu,xu),_v:12,assets:t.assets??{}});default:throw new Error("Unreachable")}}const ju=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),vu=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ku=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:vu.default({value:1,unit:"px"})}),Iu=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),wu=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Su=l.z.enum(["color","image"]),Ru=wu.extend({color:l.z.string().optional()}),Pu=Ru.extend({type:Su,assetId:l.z.string().optional(),crop:Iu.default({width:1,height:1,left:0,top:0})}),Vu=l.z.object({top:vu.default({value:0,unit:"px"}),left:vu.default({value:0,unit:"px"}),bottom:vu.default({value:0,unit:"px"}),right:vu.default({value:0,unit:"px"})}),_u=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Uu=l.z.object({type:l.z.literal("ellipse")}),Lu=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Cu=l.z.object({type:l.z.literal("cloud")}),Ou=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Eu=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Xu=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Fu=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Au=l.z.object({type:l.z.literal("octagon")}),Du=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Tu=l.z.object({type:l.z.literal("shield")}),Bu=l.z.object({type:l.z.literal("speechBubble")}),Nu=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),qu=l.z.discriminatedUnion("type",[Xu,Fu,Cu,Uu,Au,Ou,_u,Lu,Eu,Du,Tu,Bu,Nu]),Yu=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),$u=Yu.extend({x:vu.default({value:0,unit:"px"}),y:vu.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:vu.default({value:100,unit:"%"}),height:vu.default({value:100,unit:"%"}),padding:Vu,fill:Pu,opacity:l.z.number().min(0).max(1).default(1),overlay:Ru,aspectRatioLocked:l.z.boolean(),border:ku,clipDef:qu.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Mu=t=>l.z.intersection(Yu,t.partial()),Gu=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),Mu(t))),Hu=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Gu(t),assets:l.z.record(l.z.string(),ju).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),Ju=(Mu($u),l.z.object({default:l.z.string()})),Ku=$u.extend({audioSources:Ju}),Qu=Hu(Ku).extend({type:l.z.literal("audio")}),Wu=(Mu(Ku),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Zu=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),ts=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),es=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),is=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),ns=l.z.discriminatedUnion("type",[Zu,ts,es,is]),as=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(ns)}),rs=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Wu).min(0).max(1),triggers:l.z.array(as),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),os=$u.extend({_groupBrand:l.z.never().optional()}),ls=Hu(os).extend({type:l.z.literal("group"),children:l.z.array(Wu)}),zs=(Mu(os),l.z.object({x:l.z.number(),y:l.z.number()})),ds=l.z.object({applied:l.z.literal(!1)}),us=l.z.object({applied:l.z.literal(!0),offset:zs,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),ss=l.z.discriminatedUnion("applied",[ds,us]),cs=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>cs))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),ps=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:cs}),ms=l.z.enum(["top","middle","bottom"]),bs=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),gs=$u.extend({text:ps,textVerticalAlign:ms.default("top"),textPadding:bs}),fs=Hu(gs).extend({type:l.z.literal("text")}),ys=(Mu(gs),gs.extend({altText:l.z.string().nullable().default(null),dropShadow:ss})),xs=Hu(ys).extend({type:l.z.literal("shape")}),hs=(Mu(ys),l.z.object({default:l.z.string()})),js=$u.extend({videoSources:hs}),vs=Hu(js).extend({type:l.z.literal("video")}),ks=(Mu(js),l.z.discriminatedUnion("type",[Qu,ls,xs,fs,vs])),Is=(l.z.object({blockument:rs.optional(),items:l.z.record(l.z.string(),ks).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),rs).optional(),items:l.z.record(l.z.string(),ks).optional()}));function ws(t){return{...t,layers:[],_v:13}}function Ss(t){return{...t,opacity:1}}function Rs(t){return{...t,opacity:1}}function Ps(t){switch(t.type){case"audio":case"group":case"shape":case"text":case"video":return{...t,states:Ot(t.states,Ss,Rs),_v:13};default:throw new Error("Unreachable")}}const Vs=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),_s=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Us=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:_s.default({value:1,unit:"px"})}),Ls=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Cs=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Os=l.z.enum(["color","image"]),Es=Cs.extend({color:l.z.string().optional()}),Xs=Es.extend({type:Os,assetId:l.z.string().optional(),crop:Ls.default({width:1,height:1,left:0,top:0})}),Fs=l.z.object({top:_s.default({value:0,unit:"px"}),left:_s.default({value:0,unit:"px"}),bottom:_s.default({value:0,unit:"px"}),right:_s.default({value:0,unit:"px"})}),As=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Ds=l.z.object({type:l.z.literal("ellipse")}),Ts=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Bs=l.z.object({type:l.z.literal("cloud")}),Ns=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),qs=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Ys=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),$s=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Ms=l.z.object({type:l.z.literal("octagon")}),Gs=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Hs=l.z.object({type:l.z.literal("shield")}),Js=l.z.object({type:l.z.literal("speechBubble")}),Ks=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Qs=l.z.discriminatedUnion("type",[Ys,$s,Bs,Ds,Ms,Ns,As,Ts,qs,Gs,Hs,Js,Ks]),Ws=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Zs=Ws.extend({x:_s.default({value:0,unit:"px"}),y:_s.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:_s.default({value:100,unit:"%"}),height:_s.default({value:100,unit:"%"}),padding:Fs,fill:Xs,opacity:l.z.number().min(0).max(1).default(1),overlay:Es,aspectRatioLocked:l.z.boolean(),border:Us,clipDef:Qs.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),tc=t=>l.z.intersection(Ws,t.partial()),ec=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),tc(t))),ic=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ec(t),assets:l.z.record(l.z.string(),Vs).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(14)}),nc=(tc(Zs),l.z.object({default:l.z.string()})),ac=Zs.extend({audioSources:nc}),rc=ic(ac).extend({type:l.z.literal("audio")}),oc=(tc(ac),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),lc=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),zc=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),dc=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),uc=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),sc=l.z.discriminatedUnion("type",[lc,zc,dc,uc]),cc=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(sc)}),pc=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(oc).min(0).max(1),triggers:l.z.array(cc),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(14)}),mc=Zs.extend({_groupBrand:l.z.never().optional()}),bc=ic(mc).extend({type:l.z.literal("group"),children:l.z.array(oc)}),gc=(tc(mc),l.z.object({x:l.z.number(),y:l.z.number()})),fc=l.z.object({applied:l.z.literal(!1)}),yc=l.z.object({applied:l.z.literal(!0),offset:gc,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),xc=l.z.discriminatedUnion("applied",[fc,yc]),hc=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>hc))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),jc=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:hc}),vc=l.z.enum(["top","middle","bottom"]),kc=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Ic=Zs.extend({text:jc,textVerticalAlign:vc.default("top"),textPadding:kc}),wc=ic(Ic).extend({type:l.z.literal("text")}),Sc=(tc(Ic),Ic.extend({altText:l.z.string().nullable().default(null),dropShadow:xc})),Rc=ic(Sc).extend({type:l.z.literal("shape")}),Pc=(tc(Sc),l.z.object({default:l.z.string()})),Vc=Zs.extend({videoSources:Pc}),_c=ic(Vc).extend({type:l.z.literal("video")}),Uc=(tc(Vc),l.z.discriminatedUnion("type",[rc,bc,Rc,wc,_c])),Lc=(l.z.object({blockument:pc.optional(),items:l.z.record(l.z.string(),Uc).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),pc).optional(),items:l.z.record(l.z.string(),Uc).optional()}));function Cc(t){return{...t,_v:14}}function Oc(t){return{...t,opacity:1}}function Ec(t){return{...t,opacity:1}}function Xc(t){switch(t.type){case"audio":case"group":case"shape":case"text":case"video":return{...t,states:Ot(t.states,Oc,Ec),_v:14};default:throw new Error("Unreachable")}}const Fc=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Ac=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Dc=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ac.default({value:1,unit:"px"})}),Tc=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Bc=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Nc=l.z.enum(["color","image"]),qc=Bc.extend({color:l.z.string().optional()}),Yc=qc.extend({type:Nc,assetId:l.z.string().optional(),crop:Tc.default({width:1,height:1,left:0,top:0})}),$c=l.z.object({top:Ac.default({value:0,unit:"px"}),left:Ac.default({value:0,unit:"px"}),bottom:Ac.default({value:0,unit:"px"}),right:Ac.default({value:0,unit:"px"})}),Mc=l.z.object({type:l.z.string()}),Gc=Mc.extend({cornerRounding:l.z.number().min(0)}),Hc=Mc.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Jc=Mc.extend({type:l.z.literal("ellipse")}),Kc=Gc.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Qc=Mc.extend({type:l.z.literal("cloud")}),Wc=Gc.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Zc=Gc.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),tp=Gc.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ep=Gc.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),ip=Gc.extend({type:l.z.literal("octagon")}),np=Gc.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ap=Gc.extend({type:l.z.literal("shield")}),rp=Gc.extend({type:l.z.literal("speechBubble")}),op=Gc.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),lp=l.z.discriminatedUnion("type",[tp,ep,Qc,Jc,ip,Wc,Hc,Kc,Zc,np,ap,rp,op]),zp=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),dp=zp.extend({x:Ac.default({value:0,unit:"px"}),y:Ac.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Ac.default({value:100,unit:"%"}),height:Ac.default({value:100,unit:"%"}),padding:$c,fill:Yc,opacity:l.z.number().min(0).max(1).default(1),overlay:qc,aspectRatioLocked:l.z.boolean(),border:Dc,clipDef:lp.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),up=t=>l.z.intersection(zp,t.partial()),sp=t=>l.z.intersection(l.z.object({default:t}),l.z.record(l.z.string(),up(t))),cp=t=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:sp(t),assets:l.z.record(l.z.string(),Fc).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(15)}),pp=(up(dp),l.z.object({default:l.z.string()})),mp=dp.extend({audioSources:pp}),bp=cp(mp).extend({type:l.z.literal("audio")}),gp=(up(mp),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),fp=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),yp=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),xp=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),hp=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),jp=l.z.discriminatedUnion("type",[fp,yp,xp,hp]),vp=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(jp)}),kp=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(gp).min(0).max(1),triggers:l.z.array(vp),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(15)}),Ip=dp.extend({_groupBrand:l.z.never().optional()}),wp=cp(Ip).extend({type:l.z.literal("group"),children:l.z.array(gp)}),Sp=(up(Ip),l.z.object({x:l.z.number(),y:l.z.number()})),Rp=l.z.object({applied:l.z.literal(!1)}),Pp=l.z.object({applied:l.z.literal(!0),offset:Sp,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Vp=l.z.discriminatedUnion("applied",[Rp,Pp]),_p=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>_p))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),Up=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:_p}),Lp=l.z.enum(["top","middle","bottom"]),Cp=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Op=dp.extend({text:Up,textVerticalAlign:Lp.default("top"),textPadding:Cp}),Ep=cp(Op).extend({type:l.z.literal("text")}),Xp=(up(Op),Op.extend({altText:l.z.string().nullable().default(null),dropShadow:Vp})),Fp=cp(Xp).extend({type:l.z.literal("shape")}),Ap=(up(Xp),l.z.object({default:l.z.string()})),Dp=dp.extend({videoSources:Ap}),Tp=cp(Dp).extend({type:l.z.literal("video")}),Bp=(up(Dp),l.z.discriminatedUnion("type",[bp,wp,Fp,Ep,Tp])),Np=(l.z.object({blockument:kp.optional(),items:l.z.record(l.z.string(),Bp).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),kp).optional(),items:l.z.record(l.z.string(),Bp).optional()})),qp=Np;function Yp(t){return{...t,_v:15}}function $p(t){if(t)switch(t.type){case"star":case"plus":case"triangle":case"bookmark":case"chevron":case"octagon":case"parallelogram":case"shield":case"speechBubble":case"arrow":return{...t,cornerRounding:0};default:return t}}function Mp(t){return{...t,clipDef:$p(t.clipDef)}}function Gp(t){return{...t,clipDef:$p(t.clipDef)}}function Hp(t){switch(t.type){case"audio":case"group":case"shape":case"text":case"video":return{...t,_v:15,states:Ot(t.states,Mp,Gp)};default:throw new Error}}const Jp=15,Kp=[{version:3,upgrade:function({blockuments:t,items:e}){return{blockuments:Ct(t??{},(t=>({...t,_v:3}))),items:Ct(e??{},Ft)}},InputSchema:M,OutputSchema:Lt},{version:4,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},(t=>({...t,_v:4}))),items:Ct(t.items??{},Ce)}},InputSchema:Lt,OutputSchema:Pe},{version:5,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},(t=>({...t,_v:5}))),items:Ct(t.items??{},Oi)}},InputSchema:Pe,OutputSchema:_i},{version:6,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},(t=>({...t,_v:6}))),items:Ct(t.items??{},An)}},InputSchema:_i,OutputSchema:Xn},{version:7,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},(t=>({...t,_v:7}))),items:Ct(t.items??{},Ba)}},InputSchema:Xn,OutputSchema:Da},{version:8,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},(t=>({...t,_v:8}))),items:Ct(t.items??{},qr)}},InputSchema:Da,OutputSchema:Nr},{version:9,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},Mo),items:Ct(t.items??{},Go)}},InputSchema:Nr,OutputSchema:$o},{version:10,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},(t=>({...t,_v:10}))),items:Ct(t.items??{},Zl)}},InputSchema:$o,OutputSchema:Wl},{version:11,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},od),items:Ct(t.items??{},ld)}},InputSchema:Wl,OutputSchema:ad},{version:12,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},fu),items:Ct(t.items??{},hu)}},InputSchema:ad,OutputSchema:cu},{version:13,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},ws),items:Ct(t.items??{},Ps)}},InputSchema:cu,OutputSchema:Is},{version:14,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},Cc),items:Ct(t.items??{},Xc)}},InputSchema:Is,OutputSchema:Lc},{version:15,upgrade:function(t){return{blockuments:Ct(t.blockuments??{},Yp),items:Ct(t.items??{},Hp)}},InputSchema:Lc,OutputSchema:Np}];function Qp(t){const e=em(t);return e===Jp?qp.parse(t):Wp(e,Jp)(t)}function Wp(t,e){return n(Zp(t,e).map((({InputSchema:t,upgrade:e,OutputSchema:i})=>n(t.parse,e,i.parse))))}function Zp(t,e){const i=a(t+1,e+1),n=Kp.filter((({version:t})=>i.includes(t)));return r(n,"version")}function tm(t){const e=Kp.find((e=>e.version===t));if(!e)throw new Error("No converter found for claimed version");return e}function em(t){const e=o.B2.parse(t);let i,n;function a(t){if(t)for(const{id:e,_v:a}of Object.values(t))if(null==i)i=a,n=e;else if(i!==a)throw new Error(`Multiple versions found in manifest: { id: ${n}, _v: ${i} } and { id: ${e}, _v: ${a} }`)}return a(e.blockuments),a(e.items),i??Jp}}}]);